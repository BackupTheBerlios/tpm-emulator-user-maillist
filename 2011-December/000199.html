<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [tpm-emulator-user] TPM_Quote2 localityAtRelease Patch
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tpm-emulator-user/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:tpm-emulator-user%40lists.berlios.de?Subject=Re%3A%20%5Btpm-emulator-user%5D%20TPM_Quote2%20localityAtRelease%20Patch&In-Reply-To=%3C4EF0B461.6020701%40hsr.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000198.html">
   <LINK REL="Next"  HREF="000200.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[tpm-emulator-user] TPM_Quote2 localityAtRelease Patch</H1>
    <B>Andreas Steffen</B> 
    <A HREF="mailto:tpm-emulator-user%40lists.berlios.de?Subject=Re%3A%20%5Btpm-emulator-user%5D%20TPM_Quote2%20localityAtRelease%20Patch&In-Reply-To=%3C4EF0B461.6020701%40hsr.ch%3E"
       TITLE="[tpm-emulator-user] TPM_Quote2 localityAtRelease Patch">andreas.steffen at hsr.ch
       </A><BR>
    <I>Tue Dec 20 17:14:25 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000198.html">[tpm-emulator-user] TPM_Quote2 localityAtRelease Patch
</A></li>
        <LI>Next message: <A HREF="000200.html">[tpm-emulator-user] TPM_Quote2 localityAtRelease Patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#199">[ date ]</a>
              <a href="thread.html#199">[ thread ]</a>
              <a href="subject.html#199">[ subject ]</a>
              <a href="author.html#199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Mario,

thank you for committing the bug fix. What is the ETA of the
next package release? Because the bug effectively breaks the
Quote2 signature needed by the TCG Attestation PTS Protocol:

  <A HREF="http://wiki.strongswan.org/projects/strongswan/wiki/PTS-IMC">http://wiki.strongswan.org/projects/strongswan/wiki/PTS-IMC</A>

it would be helpful to have a stable tpm_emulator release that
I could refer to. Currently a patched version of the TPM emulator
is running on a virtual host at the Boeing Labs in Seattle, WA,
where I have set up a remote attestation demo scenario for the
Trusted Computing Group.

Best regards

Andreas

On 20.12.2011 11:30, Mario Strasser wrote:
&gt;<i> Hi Andreas,
</I>&gt;<i> 
</I>&gt;<i> On 12/20/11 6:53 AM, Andreas Steffen wrote:
</I>&gt;&gt;<i> after switching from a HW TPM to the SW TPM emulator the
</I>&gt;&gt;<i> localityAtRelease field in the TPM_PCR_INFO_SHORT structure of the
</I>&gt;&gt;<i> TPM_QUOTE_INFO2 struct became 0 which is clearly an invalid value.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Comparing other parts of the code where localityModifier is used
</I>&gt;&gt;<i> I came to the conclusion that the shift operator must be applied
</I>&gt;&gt;<i> to convert localityModifier to localityAtRelease. Attached is
</I>&gt;&gt;<i> a single line patch fixing the problem.
</I>&gt;<i> Correct, thanks a lot for reporting this bug.
</I>&gt;<i> It has been fixed in the repository and will be
</I>&gt;<i> included in the next package release.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Mario
</I>
======================================================================
Andreas Steffen                         e-mail: <A HREF="https://lists.berlios.de/mailman/listinfo/tpm-emulator-user">andreas.steffen at hsr.ch</A>
Institute for Internet Technologies and Applications
Hochschule fuer Technik Rapperswil      phone:  +41 55 222 42 68
CH-8640 Rapperswil (Switzerland)        mobile: +41 76 340 25 56
===========================================================[ITA-HSR]==

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4465 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/tpm-emulator-user/attachments/20111220/36df682f/attachment.bin">https://lists.berlios.de/pipermail/tpm-emulator-user/attachments/20111220/36df682f/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000198.html">[tpm-emulator-user] TPM_Quote2 localityAtRelease Patch
</A></li>
	<LI>Next message: <A HREF="000200.html">[tpm-emulator-user] TPM_Quote2 localityAtRelease Patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#199">[ date ]</a>
              <a href="thread.html#199">[ thread ]</a>
              <a href="subject.html#199">[ subject ]</a>
              <a href="author.html#199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tpm-emulator-user">More information about the tpm-emulator-user
mailing list</a><br>
</body></html>
