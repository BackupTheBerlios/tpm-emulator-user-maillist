<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [tpm-emulator-user] Hard crash
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tpm-emulator-user/2006-June/index.html" >
   <LINK REL="made" HREF="mailto:tpm-emulator-user%40lists.berlios.de?Subject=Re%3A%20%5Btpm-emulator-user%5D%20Hard%20crash&In-Reply-To=%3C4485E680.5050801%40lemaymd.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000010.html">
   <LINK REL="Next"  HREF="000012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[tpm-emulator-user] Hard crash</H1>
    <B>Michael LeMay</B> 
    <A HREF="mailto:tpm-emulator-user%40lists.berlios.de?Subject=Re%3A%20%5Btpm-emulator-user%5D%20Hard%20crash&In-Reply-To=%3C4485E680.5050801%40lemaymd.com%3E"
       TITLE="[tpm-emulator-user] Hard crash">lemaymd at lemaymd.com
       </A><BR>
    <I>Tue Jun  6 22:33:04 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000010.html">[tpm-emulator-user] Hard crash
</A></li>
        <LI>Next message: <A HREF="000012.html">[tpm-emulator-user] Hard crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11">[ date ]</a>
              <a href="thread.html#11">[ thread ]</a>
              <a href="subject.html#11">[ subject ]</a>
              <a href="author.html#11">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That was it, thanks!

I have a feeling the following question is answered someplace in the 
docs, but I've looked around for awhile to no avail.  It appears that 
the storage root key in TPM emulator is not being initialized.  I am 
attempting to use the create_tpm_key tool that accompanies the 
openssl_tpm_engine package, but it informs me that:

create_tpm_key.c:201 Tspi_Context_LoadKeyByUUID result: 0x2020 (Key not 
found in persistent storage)

I cross-referenced the code and determined that it is looking for the 
SRK.  Is it possible to create this key somehow?  In case it matters, I 
loaded the module multiple times, and the same error occurred every 
time.  First, I loaded the module with startup=&quot;clear&quot;.  Next, I loaded 
it with persistent_storage=/var/tpm.  Then, I loaded it with both 
arguments.  Finally, I loaded it with startup=&quot;save&quot; and 
persistent_storage=/var/tpm.  Thank you for your help and for this 
excellent tool.

Mario Strasser wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On Tuesday, 06. June 2006 15:17, Michael LeMay wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> I'm running Fedora Core 5 (with SELinux in permissive mode) with a 
</I>&gt;&gt;<i> custom kernel: Linux version 2.6.17-rc5-mm1  [...]
</I>&gt;&gt;<i> I built TPM-Emulator 0.3 from source, and when I try to install it using 
</I>&gt;&gt;<i> modprobe startup=&quot;clear&quot; from my second console, where dmesg output 
</I>&gt;&gt;<i> appears, the system completely freezes with no further output.
</I>&gt;&gt;<i>     
</I>&gt;<i> Most probably this due to a too small kernel stack. Please
</I>&gt;<i> recompile your kenerl with a stack size of at least 8k.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Mario
</I>&gt;<i>   
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000010.html">[tpm-emulator-user] Hard crash
</A></li>
	<LI>Next message: <A HREF="000012.html">[tpm-emulator-user] Hard crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11">[ date ]</a>
              <a href="thread.html#11">[ thread ]</a>
              <a href="subject.html#11">[ subject ]</a>
              <a href="author.html#11">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tpm-emulator-user">More information about the tpm-emulator-user
mailing list</a><br>
</body></html>
