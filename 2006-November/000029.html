<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [tpm-emulator-user] Question regarding &quot;__stack_chk_fail&quot; while	installing tpm emulator
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tpm-emulator-user/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:tpm-emulator-user%40lists.berlios.de?Subject=Re%3A%20%5Btpm-emulator-user%5D%20Question%20regarding%20%22__stack_chk_fail%22%20while%0A%09installing%20tpm%20emulator&In-Reply-To=%3Ce70026310611080912x7ddf7b46m373b19f5671e09da%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000032.html">
   <LINK REL="Next"  HREF="000033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[tpm-emulator-user] Question regarding &quot;__stack_chk_fail&quot; while	installing tpm emulator</H1>
    <B>Huang Yang</B> 
    <A HREF="mailto:tpm-emulator-user%40lists.berlios.de?Subject=Re%3A%20%5Btpm-emulator-user%5D%20Question%20regarding%20%22__stack_chk_fail%22%20while%0A%09installing%20tpm%20emulator&In-Reply-To=%3Ce70026310611080912x7ddf7b46m373b19f5671e09da%40mail.gmail.com%3E"
       TITLE="[tpm-emulator-user] Question regarding &quot;__stack_chk_fail&quot; while	installing tpm emulator">yang.huang at gmail.com
       </A><BR>
    <I>Wed Nov  8 18:12:09 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000032.html">[tpm-emulator-user] Question regarding &quot;__stack_chk_fail&quot;	whileinstalling tpm emulator
</A></li>
        <LI>Next message: <A HREF="000033.html">[tpm-emulator-user] Compiling fail in FC5 and Kernel Panic in SuSE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29">[ date ]</a>
              <a href="thread.html#29">[ thread ]</a>
              <a href="subject.html#29">[ subject ]</a>
              <a href="author.html#29">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

After append the void __stack_chk_fail(void) function at the end of
linux_module.c, there are three warnings left after &quot;make&quot;:
WARNING: /tpm_emulator-0.4/tpm_emulator.o - Section mismatch: refernce
to .init.text:init_module from .gnu.linkonce.this_module after
'__this_module'(at
offset 0xec)

WARNING: /tpm_emulator-0.4/tpm_emulator.o - Section mismatch: refernce
to .init.text:cleanup_module from .gnu.linkonce.this_module after
'__this_module'(
at offset 0x118c)

WARNING: could not find /tpm_emulator-0.4/crypto/.libgmp.a. cmd for
/tpm_emulator-0.4/crypto/libgmp.a

Then no errors during &quot;make install&quot;
However, when I try to set the startup to &quot;clear&quot; with


modprobe tpm_emulator startup=&quot;clear&quot;


the machine frozes and I have to restart the computer. The machine
keep frozen everytime when I type in the command above. Please let me
know what is happening? Thank you.


On 11/8/06, Mario Strasser &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/tpm-emulator-user">strasser at tik.ee.ethz.ch</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On Wednesday, 08. November 2006 11:39, hyang wrote:
</I>&gt;<i> &gt; However, when I use &quot;make&quot; to compile the software, everything
</I>&gt;<i> &gt; goes well until the following statements occurs:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; WARNING: &quot;__stack_chk_fail&quot; [/tpm_emulator-0.4/tpm_emulator.ko] undefined!
</I>&gt;<i> Please append the following function at the end of linux_module.c:
</I>&gt;<i> void __stack_chk_fail(void)
</I>&gt;<i> {
</I>&gt;<i>   error(&quot;stack-protector: stack is corrupted\n&quot;);
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Mario
</I>&gt;<i>
</I>


--

Yang Huang


-- 
Yang Huang

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000032.html">[tpm-emulator-user] Question regarding &quot;__stack_chk_fail&quot;	whileinstalling tpm emulator
</A></li>
	<LI>Next message: <A HREF="000033.html">[tpm-emulator-user] Compiling fail in FC5 and Kernel Panic in SuSE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29">[ date ]</a>
              <a href="thread.html#29">[ thread ]</a>
              <a href="subject.html#29">[ subject ]</a>
              <a href="author.html#29">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tpm-emulator-user">More information about the tpm-emulator-user
mailing list</a><br>
</body></html>
